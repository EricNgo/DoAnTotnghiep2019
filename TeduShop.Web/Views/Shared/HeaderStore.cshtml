@model IEnumerable<TeduShop.Web.Models.ProductCategoryViewModel>
@using Microsoft.AspNet.Identity;
<div class="header">
    <div class="logo">
        <a href="trang/gioi-thieu.html/"><img src="~/Assets/client/images/logo.png" alt="" /></a>
    </div>

    <div class="top-nav">
        <label class="mobile_menu" for="mobile_menu">
            <span>Menu</span>
        </label>
        <input id="mobile_menu" type="checkbox">
        <ul class="nav">
            <li class="dropdown1">
                @foreach (var category in Model.Where(x => x.ParentID == null))
                {
                    <a href="Index">@category.Name</a>
                    var childCategories = Model.Where(x => x.ParentID == category.ID);

                    <ul class="dropdown2">
                        @if (childCategories.Count() > 0)
                        {
                            foreach (var childCategory in childCategories)
                            {
                                var url = "/" + childCategory.Alias + ".pc-" + childCategory.ID + ".html";
                                <li><a href="@url">@childCategory.Name</a></li>
                            }
                        }
                    </ul>
                }
            </li>

            <li class="dropdown1">
                <a href="parts.html">PARTS</a>
                <ul class="dropdown2">
                    <li><a href="parts.html">CHAINS</a></li>
                    <li><a href="parts.html">TUBES</a></li>
                    <li><a href="parts.html">TIRES</a></li>
                    <li><a href="parts.html">DISC BREAKS</a></li>
                </ul>
            </li>
            <li class="dropdown1">
                <a href="accessories.html">ACCESSORIES</a>
                <ul class="dropdown2">
                    <li><a href="accessories.html">LOCKS</a></li>
                    <li><a href="accessories.html">HELMETS</a></li>
                    <li><a href="accessories.html">ARM COVERS</a></li>
                    <li><a href="accessories.html">JERSEYS</a></li>
                </ul>
            </li>
            <li class="dropdown1">
                <a href="404.html">Your Account</a>
                <ul class="dropdown2">
                    @using (Html.BeginForm("LogOut", "Account", FormMethod.Post, new { @id = "frmLogout" }))
                    {
                        if (Request.IsAuthenticated)
                        {
                            @Html.AntiForgeryToken()
                            <li><a href="/tai-khoan.html/">Hello , @User.Identity.GetUserName()</a></li>
                            <li><a href="#" id="btnLogout">Thoát</a></li>
                        }
                        else
                        {
                            <li><a href="/dang-nhap.html/"> Login</a></li>
                            <li><a href="/dang-ky.html/"> Register</a></li>
                        }
                    }
                </ul>
            </li>
            <a class="shop" href="cart.html"><img src="~/Assets/client/images/cart.png" alt="" /></a>
        </ul>
    </div>
    <div class="clearfix"></div>
</div>
